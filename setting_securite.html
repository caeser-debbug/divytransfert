<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Divy Transfert - Sécurité</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'divy-dark': '#124556',
                        'divy-blue': '#3194db',
                        'divy-light': '#e3f2fd'
                    }
                }
            }
        }
    </script>
    <style>
        /* Animation pour les éléments */
        .security-item {
            transition: all 0.3s ease;
            animation: slideInRight 0.4s ease-out;
        }
        
        .security-item:hover {
            background: rgba(49, 148, 219, 0.05);
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(50px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Style pour les toggles */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 28px;
            background-color: #d1d5db;
            border-radius: 28px;
            transition: all 0.3s ease;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .toggle-switch.active {
            background: linear-gradient(135deg, #8bc34a, #4caf50);
            box-shadow: 0 2px 8px rgba(139, 195, 74, 0.4);
        }
        
        .toggle-knob {
            position: absolute;
            top: 4px;
            left: 4px;
            width: 20px;
            height: 20px;
            background-color: white;
            border-radius: 50%;
            transition: all 0.3s ease;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
        }
        
        .toggle-switch.active .toggle-knob {
            transform: translateX(22px);
        }
        
        /* Mode sombre */
        .dark .toggle-switch {
            background-color: #4b5563;
        }
        
        .dark .toggle-switch.active {
            background: linear-gradient(135deg, #8bc34a, #4caf50);
        }
        
        /* Style pour le bouton Change Password */
        .change-password-btn {
            background: transparent;
            border: 2px solid #8bc34a;
            color: #8bc34a;
            transition: all 0.3s ease;
        }
        
        .change-password-btn:hover {
            background: #8bc34a;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(139, 195, 74, 0.3);
        }
        
        /* Style pour les items avec flèche */
        .arrow-item {
            transition: all 0.3s ease;
        }
        
        .arrow-item:hover {
            background: rgba(49, 148, 219, 0.05);
            transform: translateX(4px);
        }
    </style>
</head>
<body class="antialiased transition-colors duration-300 dark:bg-gray-900 bg-gray-50">
    <div class="min-h-screen">
        <!-- Header -->
        <div class="bg-white dark:bg-gray-800 shadow-sm px-4 pt-12 pb-4">
            <div class="flex items-center justify-between">
                <!-- Bouton retour -->
                <button onclick="window.location.href='compte.html'" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors">
                    <svg class="w-6 h-6 text-gray-800 dark:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path>
                    </svg>
                </button>
                
                <!-- Titre -->
                <h1 class="text-lg font-semibold text-gray-800 dark:text-white">Sécurité</h1>
                
                <!-- Espace pour équilibrer -->
                <div class="w-10"></div>
            </div>
        </div>

        <!-- Contenu principal -->
        <div class="px-4 py-6">
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden">
                
                <!-- Remember me -->
                <div class="security-item flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700" style="animation-delay: 0.1s;">
                    <div class="flex-1">
                        <h3 class="font-medium text-gray-900 dark:text-white">Se souvenir de moi</h3>
                    </div>
                    <div class="toggle-switch active" onclick="toggleSecurity(this, 'remember-me')">
                        <div class="toggle-knob"></div>
                    </div>
                </div>

                <!-- Biometric ID -->
                <div class="security-item flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700" style="animation-delay: 0.2s;">
                    <div class="flex-1">
                        <h3 class="font-medium text-gray-900 dark:text-white">ID Biométrique</h3>
                    </div>
                    <div class="toggle-switch" onclick="toggleSecurity(this, 'biometric-id')">
                        <div class="toggle-knob"></div>
                    </div>
                </div>

                <!-- Face ID -->
                <div class="security-item flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700" style="animation-delay: 0.3s;">
                    <div class="flex-1">
                        <h3 class="font-medium text-gray-900 dark:text-white">Face ID</h3>
                    </div>
                    <div class="toggle-switch" onclick="toggleSecurity(this, 'face-id')">
                        <div class="toggle-knob"></div>
                    </div>
                </div>

                <!-- SMS Authenticator -->
                <div class="security-item flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700" style="animation-delay: 0.4s;">
                    <div class="flex-1">
                        <h3 class="font-medium text-gray-900 dark:text-white">Authentificateur SMS</h3>
                    </div>
                    <div class="toggle-switch" onclick="toggleSecurity(this, 'sms-auth')">
                        <div class="toggle-knob"></div>
                    </div>
                </div>

                <!-- Google Authenticator -->
                <div class="security-item flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700" style="animation-delay: 0.5s;">
                    <div class="flex-1">
                        <h3 class="font-medium text-gray-900 dark:text-white">Google Authenticator</h3>
                    </div>
                    <div class="toggle-switch" onclick="toggleSecurity(this, 'google-auth')">
                        <div class="toggle-knob"></div>
                    </div>
                </div>

                <!-- Device Management -->
                <div class="arrow-item flex items-center justify-between p-4 border-b border-gray-100 dark:border-gray-700 cursor-pointer" style="animation-delay: 0.6s;" onclick="window.location.href='device-management.html'">
                    <div class="flex-1">
                        <h3 class="font-medium text-gray-900 dark:text-white">Gestion des Appareils</h3>
                    </div>
                    <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                </div>
            </div>

            <!-- Bouton Change Password -->
            <div class="mt-8" style="animation-delay: 0.7s;">
                <button onclick="changePassword()" class="change-password-btn w-full py-4 rounded-2xl font-semibold text-center">
                    Changer le Mot de Passe
                </button>
            </div>

            <!-- Informations de sécurité -->
            <div class="mt-8 bg-blue-50 dark:bg-gray-700 rounded-2xl p-4" style="animation-delay: 0.8s;">
                <div class="flex items-start">
                    <svg class="w-5 h-5 text-divy-blue mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                    </svg>
                    <div>
                        <h4 class="font-medium text-gray-800 dark:text-white mb-1">Sécurité de votre compte</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-300">
                            Activez l'authentification à deux facteurs pour une sécurité renforcée. Nous recommandons d'utiliser Face ID ou l'authentification biométrique.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Theme toggle button -->
        <button id="theme-toggle" class="fixed top-4 right-4 p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white z-10">
            <svg id="light-icon" class="w-5 h-5 hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
                <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"></path>
            </svg>
            <svg id="dark-icon" class="w-5 h-5 block dark:hidden" fill="currentColor" viewBox="0 0 20 20">
                <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path>
            </svg>
        </button>
    </div>

    <script>
        // États de sécurité
        let securityStates = {
            'remember-me': true,
            'biometric-id': false,
            'face-id': false,
            'sms-auth': false,
            'google-auth': false
        };

        // Fonction d'initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Charger les paramètres sauvegardés
            loadSecuritySettings();
            applyToggleStates();

            // Gestion du thème sombre/clair
            if (localStorage.getItem('theme') === 'dark' || 
                (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            }
            
            document.getElementById('theme-toggle').addEventListener('click', function() {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('theme', 'light');
                } else {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('theme', 'dark');
                }
            });
        });

        // Fonction pour basculer l'état de sécurité
        function toggleSecurity(toggleElement, securityId) {
            // Basculer l'état
            const isActive = toggleElement.classList.contains('active');
            
            if (isActive) {
                toggleElement.classList.remove('active');
                securityStates[securityId] = false;
            } else {
                toggleElement.classList.add('active');
                securityStates[securityId] = true;
            }

            // Animation de feedback
            toggleElement.style.transform = 'scale(0.95)';
            setTimeout(() => {
                toggleElement.style.transform = 'scale(1)';
            }, 150);

            // Sauvegarder
            saveSecuritySettings();

            console.log(`${securityId}: ${securityStates[securityId] ? 'activé' : 'désactivé'}`);
        }

        // Fonction pour appliquer les états aux toggles
        function applyToggleStates() {
            Object.keys(securityStates).forEach(securityId => {
                const toggleElement = document.querySelector(`[onclick*="${securityId}"]`);
                if (toggleElement && toggleElement.classList.contains('toggle-switch')) {
                    if (securityStates[securityId]) {
                        toggleElement.classList.add('active');
                    } else {
                        toggleElement.classList.remove('active');
                    }
                }
            });
        }

        // Fonction pour charger les paramètres de sécurité
        function loadSecuritySettings() {
            const savedSettings = localStorage.getItem('securitySettings');
            if (savedSettings) {
                try {
                    securityStates = { ...securityStates, ...JSON.parse(savedSettings) };
                } catch (e) {
                    console.log('Erreur lors du chargement des paramètres de sécurité:', e);
                }
            }
        }

        // Fonction pour sauvegarder les paramètres de sécurité
        function saveSecuritySettings() {
            try {
                localStorage.setItem('securitySettings', JSON.stringify(securityStates));
            } catch (e) {
                console.log('Erreur lors de la sauvegarde des paramètres de sécurité:', e);
            }
        }

        // Fonction pour changer le mot de passe
        function changePassword() {
            // Ici, vous pouvez rediriger vers une page de changement de mot de passe
            // ou ouvrir un modal
            alert('Redirection vers la page de changement de mot de passe...');
            // window.location.href = 'change-password.html';
        }
    </script>
</body>
</html>